<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>WebRTC Streamer</title>
    <style>
      body {
        font-family: sans-serif;
        background: #f5f7fa;
        margin: 0;
        padding: 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      h2 {
        margin-bottom: 10px;
      }

      #startBtn {
        padding: 10px 20px;
        font-size: 16px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        margin-bottom: 20px;
        cursor: pointer;
      }

      #startBtn:disabled {
        background: #999;
        cursor: not-allowed;
      }

      .preview-container {
        width: 75vw;
        min-height: 50vh;
        background: white;
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 16px;
        margin-bottom: 20px;
      }

      video {
        max-width: 100%;
        border-radius: 12px;
        background: black;
      }

      .info-panel {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.95);
        padding: 16px 24px;
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        font-weight: 600;
        color: #222;
        min-width: 160px;
        font-size: 15px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        z-index: 999;
      }

      .info-card {
        background: #fff;
        border-radius: 10px;
        padding: 10px 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        text-align: center;
      }

      .fps-value {
        color: #007acc;
        font-weight: 700;
        font-size: 20px;
      }

      .time-value {
        color: #cc7000;
        font-weight: 700;
        font-size: 20px;
      }

      .controls {
        background: white;
        border-radius: 12px;
        padding: 16px 24px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        max-width: 600px;
        width: 100%;
        margin-bottom: 20px;
      }

      .control-group {
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      label {
        flex: 1;
        font-weight: 600;
      }

      input[type="range"] {
        flex: 3;
      }

      select {
        flex: 3;
        padding: 6px 8px;
      }

      .value-display {
        width: 60px;
        text-align: right;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div
      style="
        display: flex;
        gap: 0;
        margin-bottom: 20px;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      "
    >
      <button
        style="
          padding: 10px 20px;
          border: none;
          background: #007bff;
          color: white;
          font-weight: bold;
          cursor: default;
        "
      >
        Streamer
      </button>
      <a href="/viewer.html" style="text-decoration: none">
        <button
          style="
            padding: 10px 20px;
            border: none;
            background: #e0e0e0;
            color: #333;
            cursor: pointer;
          "
        >
          Viewer
        </button>
      </a>
    </div>

    <div class="controls">
      <div class="control-group">
        <label for="bitrateRange">Max Bitrate (kbps):</label>
        <input
          type="range"
          id="bitrateRange"
          min="50"
          max="1000"
          value="150"
          step="10"
        />
        <div class="value-display" id="bitrateValue">150</div>
      </div>

      <div class="control-group">
        <label for="prioritySelect">Priority:</label>
        <select id="prioritySelect">
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high" selected>High</option>
        </select>
      </div>

      <div class="control-group">
        <label for="degradationSelect">Degradation Preference:</label>
        <select id="degradationSelect">
          <option value="maintain-framerate" selected>
            Maintain Framerate
          </option>
          <option value="maintain-resolution">Maintain Resolution</option>
          <option value="balanced">Balanced</option>
        </select>
      </div>
    </div>

    <button id="startBtn">Start Streaming</button>

    <div class="preview-container">
      <video id="localVideo" autoplay muted playsinline></video>
    </div>

    <!-- <div class="info-panel">
      <div class="info-card">FPS: <span id="fps">0</span></div>
      <div class="info-card">
        Last Frame: <span id="timeSince">0.0</span>s ago
      </div>
    </div> -->

    <script src="index.js"></script>
  </body>
</html>
